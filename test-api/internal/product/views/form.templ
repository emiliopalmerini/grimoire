package views

templ Form(item *Product, isNew bool) {
	<form
		if isNew {
			hx-post="/product"
		} else {
			hx-put={ fmt.Sprintf("/product/%s", item.ID) }
		}
		hx-target="#product-list"
		hx-swap="outerHTML"
	>
		<h2>
			if isNew {
				Create Product
			} else {
				Edit Product
			}
		</h2>

		<label>
			Name
			<input
				type="text"
				name="name"
				if item != nil {
					value={ item.Name }
				}
				required
			/>
		</label>

		<div>
			<button type="submit">Save</button>
			<button
				type="button"
				hx-get="/product"
				hx-target="#product-list"
				hx-swap="outerHTML"
			>
				Cancel
			</button>
		</div>
	</form>
}

type Product struct {
	ID   interface{ String() string }
	Name string
}
